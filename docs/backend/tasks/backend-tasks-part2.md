# Backend Tasks - Part 2

## Modelo Package

| Código | Descrição | Critérios de Aceitação |
|--------|-----------|------------------------|
| TSK-013 | Modelo de domínio - Package | - Classe Package criada com todos os campos conforme especificação<br>- Anotações JPA corretamente aplicadas<br>- PackageDTO implementado<br>- Métodos de conversão entre entidade e DTO<br>- Testes unitários para conversão<br>- Relacionamento com Initiative configurado |
| TSK-014 | Migration Flyway para Package | - Script de migração criado com DDL para tabela package<br>- Chave estrangeira para initiative configurada<br>- Script é executado sem erros<br>- Estrutura da tabela corresponde à especificação |
| TSK-015 | Testes para PackageController | - Testes para endpoint GET /api/packages<br>- Testes para endpoint GET /api/packages/{id}<br>- Testes para endpoint POST /api/packages<br>- Testes para endpoint PUT /api/packages/{id}<br>- Testes para endpoint DELETE /api/packages/{id}<br>- Testes para GET /api/packages/{id}/epics<br>- Testes para GET /api/packages/{id}/dependencies |
| TSK-016 | Implementação do PackageController | - Controller com endpoints mockados<br>- DTO convertido para entidade e vice-versa<br>- Respostas com status HTTP apropriados<br>- Validação básica de parâmetros<br>- Todos os testes passando |
| TSK-017 | Testes para POST e DELETE em dependências | - Testes para endpoint POST /api/packages/{id}/dependencies<br>- Testes para endpoint DELETE /api/packages/{id}/dependencies/{dependencyId}<br>- Casos de teste para operações de sucesso e falha |
| TSK-018 | Implementação de endpoints de dependências | - Endpoints para gerenciar dependências entre pacotes<br>- Validação para evitar dependências circulares<br>- Validação para evitar auto-dependência<br>- Respostas HTTP apropriadas<br>- Todos os testes passando |
| TSK-019 | Testes para PackageService | - Testes para findAll()<br>- Testes para findById() (sucesso e não encontrado)<br>- Testes para save() (com e sem iniciativa vinculada)<br>- Testes para update() (sucesso e não encontrado)<br>- Testes para delete() (sucesso, não encontrado e com dependências)<br>- Testes para findEpicsByPackageId()<br>- Testes para operações de dependências |
| TSK-020 | Implementação do PackageService | - Service implementado com lógica de negócio<br>- Validações implementadas (datas, relacionamentos)<br>- Tratamento adequado de exceções<br>- Lógica para gerenciar dependências<br>- Verificação de dependências circulares<br>- Todos os testes passando |
| TSK-021 | Modelo de domínio - PackageDependency | - Classe PackageDependency criada conforme especificação<br>- Anotações JPA corretamente aplicadas<br>- DependencyDTO implementado<br>- Métodos de conversão entre entidade e DTO<br>- Testes unitários para conversão |
| TSK-022 | Migration Flyway para PackageDependency | - Script de migração criado com DDL para tabela package_dependency<br>- Chaves estrangeiras configuradas<br>- Constraints de unicidade e auto-referência<br>- Script é executado sem erros |
| TSK-023 | Testes para PackageRepository | - Testes de integração com H2<br>- Testes para métodos CRUD básicos<br>- Testes para busca por initiativeId<br>- Testes para verificação de dependências<br>- Configuração de teste isolada |
| TSK-024 | Implementação do PackageRepository | - Interface Repository estendendo JpaRepository<br>- Métodos personalizados para busca e contagem<br>- Métodos para gerenciar dependências<br>- Todos os testes passando |
| TSK-025 | Testes para PackageDependencyRepository | - Testes de integração com H2<br>- Testes para métodos CRUD básicos<br>- Testes para busca de dependências<br>- Testes para verificação de dependências circulares |
| TSK-026 | Implementação do PackageDependencyRepository | - Interface Repository estendendo JpaRepository<br>- Métodos personalizados para busca de dependências<br>- Métodos para verificar dependências circulares<br>- Todos os testes passando |